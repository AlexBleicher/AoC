package AoC2023.Day11;

import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;

import java.util.stream.Stream;

import static org.junit.jupiter.api.Assertions.assertEquals;

class Day11Test {

    static Stream<Arguments> task1() {
        return Stream.of(
                Arguments.of(
                        "...#......\n" +
                                ".......#..\n" +
                                "#.........\n" +
                                "..........\n" +
                                "......#...\n" +
                                ".#........\n" +
                                ".........#\n" +
                                "..........\n" +
                                ".......#..\n" +
                                "#...#.....", 374
                ),
                Arguments.of("...............#..........................#....................................................................#............................\n" +
                        "....................................................................#................................#......................................\n" +
                        ".....#....................................................................................................#...........................#.....\n" +
                        "...................#......................................#...................................................................#.............\n" +
                        "...........#....................................#................#.........................#............................#...................\n" +
                        "#.................................#........................................#.........#.......................#.....#.....................#..\n" +
                        "..........................#............#.............................#......................................................................\n" +
                        ".....................#......................................................................................................................\n" +
                        "..............#..............................#......#.......................................................................#...............\n" +
                        "...#.............................................................................#...........#.......#...............#..............#.......\n" +
                        "..............................#..........#..................................................................................................\n" +
                        "...........................................................#...........#.......................................#.........#..................\n" +
                        ".........................#........................................#..........#..............................................................\n" +
                        ".........#...........................................................................#.....................#................................\n" +
                        ".................................#.............................................................................................#.......#....\n" +
                        "......................#.......................................................................#..................#..........................\n" +
                        "..............................................#.............................................................................................\n" +
                        ".................#..........#.........................#..............#....................................................#.................\n" +
                        ".............................................................#..........................#...................................................\n" +
                        "..........................................................................................................#..........................#......\n" +
                        "........................................#..........#....................#.....#.......................................#.....................\n" +
                        "...............#........................................#.................................................................................#.\n" +
                        "....................................................................................#.....#....................#............................\n" +
                        ".........#......................#....................................................................#.....................#................\n" +
                        "...............................................................................................#...................#........................\n" +
                        "....#........#............#......................................#..........#.............................#.................................\n" +
                        "...................................#.............#..........................................................................................\n" +
                        ".......................................................................#...............#...................................................#\n" +
                        "............................................#...............................................................................................\n" +
                        "........#.............................................#.......................#.............#...........#...................................\n" +
                        "#..................#...........#.............................#..............................................................................\n" +
                        "..................................................................#.................................................#.......................\n" +
                        "....................................................................................................................................#.......\n" +
                        "....#.................#......................#..............................................................#............#................#.\n" +
                        "....................................................#.....................................#.................................................\n" +
                        "..........................#.................................................#...................#............................#..............\n" +
                        ".........................................#.....................#.......#....................................................................\n" +
                        ".#...........#..................................................................#...........................................................\n" +
                        "..............................................#......................................................#..................#...................\n" +
                        "...................................#...................................................#....................#...............................\n" +
                        "...................#.........#..........................#...................................................................................\n" +
                        "........................................#..........#.................#......................#...............................................\n" +
                        "......................................................................................................................#.....................\n" +
                        "...........................................................#......................................#................................#......#.\n" +
                        ".#.......................#..................#.......................................#.......................................................\n" +
                        "..................#.............................................................................................#............#..............\n" +
                        "......#............................#................#......................#..........................#.................#...................\n" +
                        "............................................................................................................................................\n" +
                        "...............................#............................#...............................#...........................................#...\n" +
                        ".....................#...................#.............#...............................#.....................#..............................\n" +
                        ".........#....................................................................................................................#.............\n" +
                        "..................................................................................#..............#.....................#....................\n" +
                        "....................................................#...............#.....#......................................#................#.........\n" +
                        "..#.............................#...........................................................................................................\n" +
                        "............................................................................................................................#...............\n" +
                        ".........................................#.....#.............................#.........#...............#..................................#.\n" +
                        ".......#...................#................................................................................................................\n" +
                        ".............................................................#.............................................#................................\n" +
                        "................#..................................#................#.....................................................#........#........\n" +
                        "......................#............#................................................#.............#.....................................#...\n" +
                        ".#..........................................................................................................................................\n" +
                        ".......................................................#...................#............................#...................................\n" +
                        "..........#....................#...........#..........................................................................#.....................\n" +
                        ".................#..............................#...............................................................................#...........\n" +
                        ".........................#......................................................#.............#.............................................\n" +
                        "...................................#.................................#...................#.................#...............................#\n" +
                        "........#.................................................#.........................................................................#.......\n" +
                        ".......................................................................................................#....................................\n" +
                        "..#...................................................#.....................................................................................\n" +
                        ".............#.................................................................................................................#............\n" +
                        "......................#.........................................................#..................#..............#.........................\n" +
                        ".....#.........................#.....................................#.....#.............................#.............#....................\n" +
                        "..........................#............#.......#............................................................................................\n" +
                        "..........#.......#............................................#........................#..........................................#........\n" +
                        "........................................................................#...................................................................\n" +
                        "............................................................................................................................................\n" +
                        ".........................................#....................................#..............#.......................#......................\n" +
                        "...#................................................#.......................................................................#...............\n" +
                        "..............#.....................#..........#....................................#...................#...................................\n" +
                        ".............................#...................................................................#..........................................\n" +
                        "..........#............#........................................#.................................................#.........................\n" +
                        "...........................................#.....................................#..........................................................\n" +
                        ".#........................................................................................................#................#................\n" +
                        "..................................#....................................#.................#...........................................#.....#\n" +
                        "..................................................#................................................#........................................\n" +
                        "............................................................................................................................................\n" +
                        "...............#.............................................................................................................#..............\n" +
                        "..#...................#.................#.............#.......................#.........................#.......#.......................#...\n" +
                        "...........#..................#.................#............#.......#......................................................................\n" +
                        "............................................................................................................................................\n" +
                        "..........................................................................................#.........#.......................................\n" +
                        ".........................................................................................................................#..................\n" +
                        "......#.....................................................................................................................................\n" +
                        "..................................#.....#...............#..........#..............#.............................#...........................\n" +
                        ".........................#.............................................................#.............................#............#.........\n" +
                        "............................................#...............................................................................................\n" +
                        "..#........#............................................................#....................#.........#................................#...\n" +
                        "....................................#.......................#...............................................................#...............\n" +
                        "..................................................................................................................#.........................\n" +
                        ".......#.......................#........#..................................#................................................................\n" +
                        ".....................#.................................#.........#....................#.....................................................\n" +
                        "..................................................................................................#.............................#.....#.....\n" +
                        "...............#.............................#..............................................................................................\n" +
                        ".......................................................................#....................#.............#............#....................\n" +
                        "..........................#.....#......#..................................................................................................#.\n" +
                        "............................................................#.......................#.......................................................\n" +
                        "......................#...............................#...........................................................#.................#.......\n" +
                        ".................#........................#.................................................................................................\n" +
                        "....#..........................................#...................#.......#.............................#.................#................\n" +
                        "...............................................................................................#............................................\n" +
                        ".............................................................#...................#..........................................................\n" +
                        "...................................#....................................#.............................................#.....................\n" +
                        "..........................................................................................#..................................#..............\n" +
                        "........#..................................#.............#..........................#......................#................................\n" +
                        ".........................#....................................................................#.................#.........................#.\n" +
                        "..#..........................................................................#..............................................................\n" +
                        "...................................................#..........#....................................#........................................\n" +
                        "............#.........#.................................................................................................#.......#...........\n" +
                        ".......#.........................#..........#........................#......................................................................\n" +
                        "..........................#...............................#...............................#.................................................\n" +
                        "...#...........#.......................#............................................#................#.................................#....\n" +
                        "............................................................................................................................................\n" +
                        ".........................................................................#..................................................................\n" +
                        "....................................................#.............#...........................................#...........................#.\n" +
                        ".................#.................#.......#..........................................#.................#................#..................\n" +
                        "................................................................................#...............#...........................................\n" +
                        "...........................#.................................#................................................................#.............\n" +
                        ".....................#................#.................................#.........................................#.........................\n" +
                        "......#.....................................................................................................................................\n" +
                        "#.........................................................................................................................................#.\n" +
                        "............................................#..............................................#................................................\n" +
                        ".........#........#.......................................#.................................................................................\n" +
                        "...............................#...................................#....................................#...................................\n" +
                        "...#....................................#............#..................................................................#.............#.....\n" +
                        "..................................................................................#......#......#...........................................\n" +
                        "......................#........................................#............................................................................\n" +
                        "...............#...............................#............................#...............................................................\n" +
                        ".......#..................#.................................................................................................................\n" +
                        "......................................#............#........#...................#..........................................#................\n" +
                        "...#...............#..................................................#...........................#........#........#................#......\n", 9742154)
        );
    }

    static Stream<Arguments> task2() {
        return Stream.of(
                Arguments.of("...#......\n" +
                        ".......#..\n" +
                        "#.........\n" +
                        "..........\n" +
                        "......#...\n" +
                        ".#........\n" +
                        ".........#\n" +
                        "..........\n" +
                        ".......#..\n" +
                        "#...#.....", 9, 1030),
                Arguments.of("...#......\n" +
                        ".......#..\n" +
                        "#.........\n" +
                        "..........\n" +
                        "......#...\n" +
                        ".#........\n" +
                        ".........#\n" +
                        "..........\n" +
                        ".......#..\n" +
                        "#...#.....", 99, 8410),
                Arguments.of("...............#..........................#....................................................................#............................\n" +
                        "....................................................................#................................#......................................\n" +
                        ".....#....................................................................................................#...........................#.....\n" +
                        "...................#......................................#...................................................................#.............\n" +
                        "...........#....................................#................#.........................#............................#...................\n" +
                        "#.................................#........................................#.........#.......................#.....#.....................#..\n" +
                        "..........................#............#.............................#......................................................................\n" +
                        ".....................#......................................................................................................................\n" +
                        "..............#..............................#......#.......................................................................#...............\n" +
                        "...#.............................................................................#...........#.......#...............#..............#.......\n" +
                        "..............................#..........#..................................................................................................\n" +
                        "...........................................................#...........#.......................................#.........#..................\n" +
                        ".........................#........................................#..........#..............................................................\n" +
                        ".........#...........................................................................#.....................#................................\n" +
                        ".................................#.............................................................................................#.......#....\n" +
                        "......................#.......................................................................#..................#..........................\n" +
                        "..............................................#.............................................................................................\n" +
                        ".................#..........#.........................#..............#....................................................#.................\n" +
                        ".............................................................#..........................#...................................................\n" +
                        "..........................................................................................................#..........................#......\n" +
                        "........................................#..........#....................#.....#.......................................#.....................\n" +
                        "...............#........................................#.................................................................................#.\n" +
                        "....................................................................................#.....#....................#............................\n" +
                        ".........#......................#....................................................................#.....................#................\n" +
                        "...............................................................................................#...................#........................\n" +
                        "....#........#............#......................................#..........#.............................#.................................\n" +
                        "...................................#.............#..........................................................................................\n" +
                        ".......................................................................#...............#...................................................#\n" +
                        "............................................#...............................................................................................\n" +
                        "........#.............................................#.......................#.............#...........#...................................\n" +
                        "#..................#...........#.............................#..............................................................................\n" +
                        "..................................................................#.................................................#.......................\n" +
                        "....................................................................................................................................#.......\n" +
                        "....#.................#......................#..............................................................#............#................#.\n" +
                        "....................................................#.....................................#.................................................\n" +
                        "..........................#.................................................#...................#............................#..............\n" +
                        ".........................................#.....................#.......#....................................................................\n" +
                        ".#...........#..................................................................#...........................................................\n" +
                        "..............................................#......................................................#..................#...................\n" +
                        "...................................#...................................................#....................#...............................\n" +
                        "...................#.........#..........................#...................................................................................\n" +
                        "........................................#..........#.................#......................#...............................................\n" +
                        "......................................................................................................................#.....................\n" +
                        "...........................................................#......................................#................................#......#.\n" +
                        ".#.......................#..................#.......................................#.......................................................\n" +
                        "..................#.............................................................................................#............#..............\n" +
                        "......#............................#................#......................#..........................#.................#...................\n" +
                        "............................................................................................................................................\n" +
                        "...............................#............................#...............................#...........................................#...\n" +
                        ".....................#...................#.............#...............................#.....................#..............................\n" +
                        ".........#....................................................................................................................#.............\n" +
                        "..................................................................................#..............#.....................#....................\n" +
                        "....................................................#...............#.....#......................................#................#.........\n" +
                        "..#.............................#...........................................................................................................\n" +
                        "............................................................................................................................#...............\n" +
                        ".........................................#.....#.............................#.........#...............#..................................#.\n" +
                        ".......#...................#................................................................................................................\n" +
                        ".............................................................#.............................................#................................\n" +
                        "................#..................................#................#.....................................................#........#........\n" +
                        "......................#............#................................................#.............#.....................................#...\n" +
                        ".#..........................................................................................................................................\n" +
                        ".......................................................#...................#............................#...................................\n" +
                        "..........#....................#...........#..........................................................................#.....................\n" +
                        ".................#..............................#...............................................................................#...........\n" +
                        ".........................#......................................................#.............#.............................................\n" +
                        "...................................#.................................#...................#.................#...............................#\n" +
                        "........#.................................................#.........................................................................#.......\n" +
                        ".......................................................................................................#....................................\n" +
                        "..#...................................................#.....................................................................................\n" +
                        ".............#.................................................................................................................#............\n" +
                        "......................#.........................................................#..................#..............#.........................\n" +
                        ".....#.........................#.....................................#.....#.............................#.............#....................\n" +
                        "..........................#............#.......#............................................................................................\n" +
                        "..........#.......#............................................#........................#..........................................#........\n" +
                        "........................................................................#...................................................................\n" +
                        "............................................................................................................................................\n" +
                        ".........................................#....................................#..............#.......................#......................\n" +
                        "...#................................................#.......................................................................#...............\n" +
                        "..............#.....................#..........#....................................#...................#...................................\n" +
                        ".............................#...................................................................#..........................................\n" +
                        "..........#............#........................................#.................................................#.........................\n" +
                        "...........................................#.....................................#..........................................................\n" +
                        ".#........................................................................................................#................#................\n" +
                        "..................................#....................................#.................#...........................................#.....#\n" +
                        "..................................................#................................................#........................................\n" +
                        "............................................................................................................................................\n" +
                        "...............#.............................................................................................................#..............\n" +
                        "..#...................#.................#.............#.......................#.........................#.......#.......................#...\n" +
                        "...........#..................#.................#............#.......#......................................................................\n" +
                        "............................................................................................................................................\n" +
                        "..........................................................................................#.........#.......................................\n" +
                        ".........................................................................................................................#..................\n" +
                        "......#.....................................................................................................................................\n" +
                        "..................................#.....#...............#..........#..............#.............................#...........................\n" +
                        ".........................#.............................................................#.............................#............#.........\n" +
                        "............................................#...............................................................................................\n" +
                        "..#........#............................................................#....................#.........#................................#...\n" +
                        "....................................#.......................#...............................................................#...............\n" +
                        "..................................................................................................................#.........................\n" +
                        ".......#.......................#........#..................................#................................................................\n" +
                        ".....................#.................................#.........#....................#.....................................................\n" +
                        "..................................................................................................#.............................#.....#.....\n" +
                        "...............#.............................#..............................................................................................\n" +
                        ".......................................................................#....................#.............#............#....................\n" +
                        "..........................#.....#......#..................................................................................................#.\n" +
                        "............................................................#.......................#.......................................................\n" +
                        "......................#...............................#...........................................................#.................#.......\n" +
                        ".................#........................#.................................................................................................\n" +
                        "....#..........................................#...................#.......#.............................#.................#................\n" +
                        "...............................................................................................#............................................\n" +
                        ".............................................................#...................#..........................................................\n" +
                        "...................................#....................................#.............................................#.....................\n" +
                        "..........................................................................................#..................................#..............\n" +
                        "........#..................................#.............#..........................#......................#................................\n" +
                        ".........................#....................................................................#.................#.........................#.\n" +
                        "..#..........................................................................#..............................................................\n" +
                        "...................................................#..........#....................................#........................................\n" +
                        "............#.........#.................................................................................................#.......#...........\n" +
                        ".......#.........................#..........#........................#......................................................................\n" +
                        "..........................#...............................#...............................#.................................................\n" +
                        "...#...........#.......................#............................................#................#.................................#....\n" +
                        "............................................................................................................................................\n" +
                        ".........................................................................#..................................................................\n" +
                        "....................................................#.............#...........................................#...........................#.\n" +
                        ".................#.................#.......#..........................................#.................#................#..................\n" +
                        "................................................................................#...............#...........................................\n" +
                        "...........................#.................................#................................................................#.............\n" +
                        ".....................#................#.................................#.........................................#.........................\n" +
                        "......#.....................................................................................................................................\n" +
                        "#.........................................................................................................................................#.\n" +
                        "............................................#..............................................#................................................\n" +
                        ".........#........#.......................................#.................................................................................\n" +
                        "...............................#...................................#....................................#...................................\n" +
                        "...#....................................#............#..................................................................#.............#.....\n" +
                        "..................................................................................#......#......#...........................................\n" +
                        "......................#........................................#............................................................................\n" +
                        "...............#...............................#............................#...............................................................\n" +
                        ".......#..................#.................................................................................................................\n" +
                        "......................................#............#........#...................#..........................................#................\n" +
                        "...#...............#..................................................#...........................#........#........#................#......\n", 999999, 0)
        );
    }

    @ParameterizedTest
    @MethodSource
    void task1(String i, long expected) {
        Day11 test = new Day11(i);
        long i1 = test.task1();
        assertEquals(expected, i1);
    }

    @ParameterizedTest
    @MethodSource
    void task2(String i, long stepwidth, long expected) {
        Day11 test = new Day11(i);
        long i1 = test.task2(stepwidth);
        assertEquals(expected, i1);
    }
}